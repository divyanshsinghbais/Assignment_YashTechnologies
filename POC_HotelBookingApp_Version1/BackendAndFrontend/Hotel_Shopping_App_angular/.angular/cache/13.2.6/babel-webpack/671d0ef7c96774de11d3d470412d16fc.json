{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Divyansh.singh\\\\Documents\\\\Angular\\\\Hotel_Shopping_App_angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Divyansh.singh\\\\Documents\\\\Angular\\\\Hotel_Shopping_App_angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { CustomerService } from '../services/customer.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Customer } from '../services/customer';\nimport { Component } from '@angular/core';\n\nvar CreateCustomerComponent = /*#__PURE__*/function () {\n  function CreateCustomerComponent(customerService, route, router) {\n    _classCallCheck(this, CreateCustomerComponent);\n\n    this.customerService = customerService;\n    this.route = route;\n    this.router = router;\n    this.customer = new Customer();\n    this.user_level_id = window.sessionStorage.user_level_id;\n    this.user_id = window.sessionStorage.user_id;\n    this.submitted = false;\n    this.isUpdate = false;\n    this.msg = \"\";\n    this.type = \"danger\";\n    this.customer_id = \"save\";\n    this.readonly = false;\n    this.registrationMessage = \"\";\n  }\n\n  _createClass(CreateCustomerComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var id = this.route.snapshot.paramMap.get('id');\n\n      if (id) {\n        console.log(\"Here eee\");\n        this.isUpdate = true;\n        this.getCustomer(id);\n      }\n    }\n  }, {\n    key: \"getCustomer\",\n    value: function getCustomer(id) {\n      var _this = this;\n\n      this.customerService.getCustomer(id).subscribe(function (data) {\n        console.log(data);\n        _this.customer = data;\n      }, function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"newCustomer\",\n    value: function newCustomer() {\n      this.submitted = false;\n      this.customer = new Customer();\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var _this2 = this;\n\n      console.log(\"I am here\"); // Saving Customer and Login Details\n\n      this.customerService.createCustomer(this.customer).subscribe(function (data) {\n        _this2.registrationMessage = \"Data Saved Successfully !!!\";\n\n        _this2.router.navigate(['/admin/customer']);\n      }, function (err) {\n        _this2.registrationMessage = err.error.message; // this.isSignUpFailed = true;\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var id = this.route.snapshot.paramMap.get('id');\n\n      if (id) {\n        this.updateCustomer();\n      } else {\n        this.submitted = true;\n        this.save();\n      }\n    }\n  }, {\n    key: \"updateCustomer\",\n    value: function updateCustomer() {\n      var _this3 = this;\n\n      console.log(this.customer);\n      this.customerService.updateCustomer(this.customer.customer_id, this.customer).subscribe(function (data) {\n        console.log(data); // this.isSuccessful = true;\n        // this.isSignUpFailed = false;\n\n        _this3.msg = \"Success : Details updated successfully !!!\";\n        _this3.type = \"success\";\n\n        _this3.router.navigate(['/admin/customer']);\n      }, function (err) {// this.registrationMessage = err.error.message;\n        // this.isSignUpFailed = true;\n      });\n    }\n  }]);\n\n  return CreateCustomerComponent;\n}();\n\nCreateCustomerComponent = __decorate([Component({\n  selector: 'app-create-customer',\n  templateUrl: './create-customer.component.html',\n  styleUrls: ['./create-customer.component.css']\n}), __metadata(\"design:paramtypes\", [CustomerService, ActivatedRoute, Router])], CreateCustomerComponent);\nexport { CreateCustomerComponent };","map":null,"metadata":{},"sourceType":"module"}